import"../chunks/CWj6FrbW.js";import"../chunks/CUGcy999.js";import{o as pt,e as J,a as r}from"../chunks/D823aWX5.js";import{af as ft,ao as c,ap as ut,ag as j,aq as k,aj as R,ak as bt,al as xt,ah as i,am as a,k as t,T as d,m as p,an as s,ar as mt,u as f}from"../chunks/D4nwEpnC.js";import{i as _t}from"../chunks/0hrKbzKX.js";import{e as ht,i as gt}from"../chunks/CKtu-Lia.js";import{h as yt}from"../chunks/CRo46d9o.js";import{i as $t}from"../chunks/CI4_eMif.js";import{s as Ct,a as St}from"../chunks/Du0o-kX8.js";import{b as K,g as L}from"../chunks/BV2j2d1u.js";import{c as wt,a as Tt}from"../chunks/_cFIceTT.js";var kt=j('<div class="city-result approved svelte-bxfdlt"><span class="city-status svelte-bxfdlt">âœ“</span> <span class="city-name svelte-bxfdlt"> </span></div>'),Rt=j('<p class="rejected-info svelte-bxfdlt"> </p>'),jt=j(`<div class="results-page svelte-bxfdlt"><div class="results-header svelte-bxfdlt"><h1 class="svelte-bxfdlt">ðŸŽ‰ Voting Complete!</h1> <p class="completion-message svelte-bxfdlt">You've successfully completed city preference voting</p></div> <div class="binary-section svelte-bxfdlt"><h2 class="svelte-bxfdlt">Binary Result</h2> <div class="binary-container svelte-bxfdlt"><div class="binary-text svelte-bxfdlt"> </div> <div class="button-group svelte-bxfdlt"><button class="copy-button svelte-bxfdlt">Copy to Clipboard</button> <button class="start-over-button svelte-bxfdlt">Start Over</button></div></div> <p class="binary-info svelte-bxfdlt">86-character binary string: 1 = approved city, 0 = rejected city</p></div> <div class="results-grid svelte-bxfdlt"><div class="stats-panel svelte-bxfdlt"><h2 class="svelte-bxfdlt">Statistics</h2> <div class="stats-grid svelte-bxfdlt"><div class="stat-item svelte-bxfdlt"><span class="stat-label svelte-bxfdlt">Cities Voted On</span> <span class="stat-value svelte-bxfdlt"> </span></div> <div class="stat-item svelte-bxfdlt"><span class="stat-label svelte-bxfdlt">Time Spent</span> <span class="stat-value svelte-bxfdlt"> </span></div> <div class="stat-item svelte-bxfdlt"><span class="stat-label svelte-bxfdlt">Approved</span> <span class="stat-value svelte-bxfdlt"> </span></div> <div class="stat-item svelte-bxfdlt"><span class="stat-label svelte-bxfdlt">Rejected</span> <span class="stat-value svelte-bxfdlt"> </span></div></div></div> <div class="cities-panel svelte-bxfdlt"><h2 class="svelte-bxfdlt"> </h2> <div class="cities-list svelte-bxfdlt"></div> <!></div></div></div>`);function Gt(N,Q){ft(Q,!1);const V=()=>St(wt,"$currentSession",U),[U,W]=Ct(),l=d(),m=d(),B=d(),M=d(),u=d(),o=d(),b=d();function X(){if(K)return K;if(typeof window>"u")return"";const e=window.location.pathname.match(/^\/[^/]+/);return e?e[0]:""}const O=X()||"/";function Z(e){const n=Math.floor(e/1e3),v=Math.floor(n/60),x=n%60;return`${v} minutes ${x} seconds`}pt(()=>{t(l)||L(O)});async function tt(){try{await navigator.clipboard.writeText(t(m));const e=document.querySelector(".copy-button");if(e){const n=e.textContent;e.textContent="Copied!",setTimeout(()=>{e.textContent=n},2e3)}}catch(e){console.error("Failed to copy:",e)}}function et(){Tt(),L(O)}c(()=>V(),()=>{p(l,V())}),c(()=>t(l),()=>{p(m,t(l)?.binaryResult||"")}),c(()=>t(l),()=>{p(B,t(l)?.currentStep||0)}),c(()=>t(l),()=>{p(M,t(l)?Z(Date.now()-t(l).startTime):"")}),c(()=>t(l),()=>{p(u,t(l)?t(l).cities.filter(e=>e.status==="1"):[])}),c(()=>t(l),()=>{p(o,t(l)?t(l).cities.filter(e=>e.status==="0"):[])}),c(()=>t(l),()=>{p(b,t(l)?t(l).cities.filter(e=>e.status==="?").length:0)}),ut(),$t();var _=jt();yt("bxfdlt",e=>{xt.title="Results - City Voting System"});var h=i(a(_),2),P=i(a(h),2),g=a(P),st=a(g,!0);s(g);var q=i(g,2),A=a(q),at=i(A,2);s(q),s(P),mt(2),s(h);var Y=i(h,2),y=a(Y),D=i(a(y),2),$=a(D),F=i(a($),2),lt=a(F,!0);s(F),s($);var C=i($,2),z=i(a(C),2),it=a(z,!0);s(z),s(C);var S=i(C,2),E=i(a(S),2),nt=a(E,!0);s(E),s(S);var G=i(S,2),H=i(a(G),2),rt=a(H,!0);s(H),s(G),s(D),s(y);var I=i(y,2),w=a(I),ot=a(w);s(w);var T=i(w,2);ht(T,5,()=>t(u),gt,(e,n)=>{var v=kt(),x=i(a(v),2),dt=a(x);s(x),s(v),k(()=>r(dt,`${t(n),f(()=>t(n).name)??""}, ${t(n),f(()=>t(n).country)??""}`)),R(e,v)}),s(T);var vt=i(T,2);{var ct=e=>{var n=Rt(),v=a(n);s(n),k(()=>r(v,`${t(o),f(()=>t(o).length)??""} cities were not selected${t(b)>0?`, ${t(b)} undecided`:""}`)),R(e,n)};_t(vt,e=>{t(o),t(b),f(()=>t(o).length>0||t(b)>0)&&e(ct)})}s(I),s(Y),s(_),k(()=>{r(st,t(m)),r(lt,t(B)),r(it,t(M)),r(nt,(t(u),f(()=>t(u).length))),r(rt,(t(o),f(()=>t(o).length))),r(ot,`Your Selected Cities (${t(u),f(()=>t(u).length)??""})`)}),J("click",A,tt),J("click",at,et),R(N,_),bt(),W()}export{Gt as component};
