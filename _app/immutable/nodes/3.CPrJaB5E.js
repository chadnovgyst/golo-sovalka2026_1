import"../chunks/CWj6FrbW.js";import"../chunks/CUGcy999.js";import{o as dt,e as J,a as n}from"../chunks/D823aWX5.js";import{af as pt,ao as c,ap as ft,ag as j,ai as ut,aq as k,aj as R,ak as bt,al as xt,ah as i,am as a,k as t,T as d,m as p,an as s,ar as K,u as f}from"../chunks/D4nwEpnC.js";import{i as mt}from"../chunks/0hrKbzKX.js";import{e as _t,i as ht}from"../chunks/CKtu-Lia.js";import{h as gt}from"../chunks/CRo46d9o.js";import{i as yt}from"../chunks/CI4_eMif.js";import{s as $t,a as Ct}from"../chunks/Du0o-kX8.js";import{g as L}from"../chunks/D4men7tP.js";import{c as St,a as Tt}from"../chunks/tB02VBBH.js";var kt=j('<div class="city-result approved svelte-bxfdlt"><span class="city-status svelte-bxfdlt">âœ“</span> <span class="city-name svelte-bxfdlt"> </span></div>'),Rt=j('<p class="rejected-info svelte-bxfdlt"> </p>'),jt=j(`<div class="results-page svelte-bxfdlt"><div class="results-header svelte-bxfdlt"><h1 class="svelte-bxfdlt">ðŸŽ‰ Voting Complete!</h1> <p class="completion-message svelte-bxfdlt">You've successfully completed city preference voting</p></div> <div class="binary-section svelte-bxfdlt"><h2 class="svelte-bxfdlt">Binary Result</h2> <div class="binary-container svelte-bxfdlt"><div class="binary-text svelte-bxfdlt"> </div> <div class="button-group svelte-bxfdlt"><button class="copy-button svelte-bxfdlt">Copy to Clipboard</button> <button class="start-over-button svelte-bxfdlt">Start Over</button></div></div> <p class="binary-info svelte-bxfdlt">86-character binary string: 1 = approved city, 0 = rejected city</p></div> <div class="results-grid svelte-bxfdlt"><div class="stats-panel svelte-bxfdlt"><h2 class="svelte-bxfdlt">Statistics</h2> <div class="stats-grid svelte-bxfdlt"><div class="stat-item svelte-bxfdlt"><span class="stat-label svelte-bxfdlt">Cities Voted On</span> <span class="stat-value svelte-bxfdlt"> </span></div> <div class="stat-item svelte-bxfdlt"><span class="stat-label svelte-bxfdlt">Time Spent</span> <span class="stat-value svelte-bxfdlt"> </span></div> <div class="stat-item svelte-bxfdlt"><span class="stat-label svelte-bxfdlt">Approved</span> <span class="stat-value svelte-bxfdlt"> </span></div> <div class="stat-item svelte-bxfdlt"><span class="stat-label svelte-bxfdlt">Rejected</span> <span class="stat-value svelte-bxfdlt"> </span></div></div></div> <div class="cities-panel svelte-bxfdlt"><h2 class="svelte-bxfdlt"> </h2> <div class="cities-list svelte-bxfdlt"></div> <!></div></div></div> const homePath = base || '/';`,1);function zt(N,Q){pt(Q,!1);const w=()=>Ct(St,"$currentSession",U),[U,W]=$t(),l=d(),m=d(),V=d(),M=d(),u=d(),o=d(),b=d();function X(e){const r=Math.floor(e/1e3),v=Math.floor(r/60),x=r%60;return`${v} minutes ${x} seconds`}dt(()=>{t(l)||L(homePath)});async function Z(){try{await navigator.clipboard.writeText(t(m));const e=document.querySelector(".copy-button");if(e){const r=e.textContent;e.textContent="Copied!",setTimeout(()=>{e.textContent=r},2e3)}}catch(e){console.error("Failed to copy:",e)}}function tt(){Tt(),L(homePath)}c(()=>w(),()=>{p(l,w())}),c(()=>t(l),()=>{p(m,t(l)?.binaryResult||"")}),c(()=>t(l),()=>{p(V,t(l)?.currentStep||0)}),c(()=>t(l),()=>{p(M,t(l)?X(Date.now()-t(l).startTime):"")}),c(()=>t(l),()=>{p(u,t(l)?t(l).cities.filter(e=>e.status==="1"):[])}),c(()=>t(l),()=>{p(o,t(l)?t(l).cities.filter(e=>e.status==="0"):[])}),c(()=>t(l),()=>{p(b,t(l)?t(l).cities.filter(e=>e.status==="?").length:0)}),ft(),yt();var O=jt();gt("bxfdlt",e=>{xt.title="Results - City Voting System"});var P=ut(O),_=i(a(P),2),q=i(a(_),2),h=a(q),st=a(h,!0);s(h);var A=i(h,2),B=a(A),et=i(B,2);s(A),s(q),K(2),s(_);var Y=i(_,2),g=a(Y),D=i(a(g),2),y=a(D),F=i(a(y),2),at=a(F,!0);s(F),s(y);var $=i(y,2),z=i(a($),2),lt=a(z,!0);s(z),s($);var C=i($,2),E=i(a(C),2),it=a(E,!0);s(E),s(C);var G=i(C,2),H=i(a(G),2),rt=a(H,!0);s(H),s(G),s(D),s(g);var I=i(g,2),S=a(I),nt=a(S);s(S);var T=i(S,2);_t(T,5,()=>t(u),ht,(e,r)=>{var v=kt(),x=i(a(v),2),ct=a(x);s(x),s(v),k(()=>n(ct,`${t(r),f(()=>t(r).name)??""}, ${t(r),f(()=>t(r).country)??""}`)),R(e,v)}),s(T);var ot=i(T,2);{var vt=e=>{var r=Rt(),v=a(r);s(r),k(()=>n(v,`${t(o),f(()=>t(o).length)??""} cities were not selected${t(b)>0?`, ${t(b)} undecided`:""}`)),R(e,r)};mt(ot,e=>{t(o),t(b),f(()=>t(o).length>0||t(b)>0)&&e(vt)})}s(I),s(Y),s(P),K(),k(()=>{n(st,t(m)),n(at,t(V)),n(lt,t(M)),n(it,(t(u),f(()=>t(u).length))),n(rt,(t(o),f(()=>t(o).length))),n(nt,`Your Selected Cities (${t(u),f(()=>t(u).length)??""})`)}),J("click",B,Z),J("click",et,tt),R(N,O),bt(),W()}export{zt as component};
