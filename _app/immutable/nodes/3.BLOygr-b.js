import"../chunks/CWj6FrbW.js";import"../chunks/DZXuOcnk.js";import{o as vt,e as I,a as n}from"../chunks/kEgIIrK5.js";import{ab as ct,ak as c,al as dt,ac as w,am as T,af as j,ag as pt,ah as ft,ad as i,ai as a,i as t,N as d,k as p,aj as s,an as ut,u as f}from"../chunks/BwOj8YvN.js";import{i as bt}from"../chunks/BCV1tJ84.js";import{e as xt,i as mt}from"../chunks/BwaOt-lj.js";import{h as _t}from"../chunks/CT_8VmLx.js";import{i as gt}from"../chunks/Q-DUCnJu.js";import{s as ht,a as yt}from"../chunks/BleXULIb.js";import{g as J}from"../chunks/9EhrAhz9.js";import{c as $t,a as Ct}from"../chunks/B9lk1V79.js";var St=w('<div class="city-result approved svelte-bxfdlt"><span class="city-status svelte-bxfdlt">âœ“</span> <span class="city-name svelte-bxfdlt"> </span></div>'),kt=w('<p class="rejected-info svelte-bxfdlt"> </p>'),Rt=w(`<div class="results-page svelte-bxfdlt"><div class="results-header svelte-bxfdlt"><h1 class="svelte-bxfdlt">ðŸŽ‰ Voting Complete!</h1> <p class="completion-message svelte-bxfdlt">You've successfully completed city preference voting</p></div> <div class="binary-section svelte-bxfdlt"><h2 class="svelte-bxfdlt">Binary Result</h2> <div class="binary-container svelte-bxfdlt"><div class="binary-text svelte-bxfdlt"> </div> <div class="button-group svelte-bxfdlt"><button class="copy-button svelte-bxfdlt">Copy to Clipboard</button> <button class="start-over-button svelte-bxfdlt">Start Over</button></div></div> <p class="binary-info svelte-bxfdlt">86-character binary string: 1 = approved city, 0 = rejected city</p></div> <div class="results-grid svelte-bxfdlt"><div class="stats-panel svelte-bxfdlt"><h2 class="svelte-bxfdlt">Statistics</h2> <div class="stats-grid svelte-bxfdlt"><div class="stat-item svelte-bxfdlt"><span class="stat-label svelte-bxfdlt">Cities Voted On</span> <span class="stat-value svelte-bxfdlt"> </span></div> <div class="stat-item svelte-bxfdlt"><span class="stat-label svelte-bxfdlt">Time Spent</span> <span class="stat-value svelte-bxfdlt"> </span></div> <div class="stat-item svelte-bxfdlt"><span class="stat-label svelte-bxfdlt">Approved</span> <span class="stat-value svelte-bxfdlt"> </span></div> <div class="stat-item svelte-bxfdlt"><span class="stat-label svelte-bxfdlt">Rejected</span> <span class="stat-value svelte-bxfdlt"> </span></div></div></div> <div class="cities-panel svelte-bxfdlt"><h2 class="svelte-bxfdlt"> </h2> <div class="cities-list svelte-bxfdlt"></div> <!></div></div></div>`);function Ft(K,L){ct(L,!1);const V=()=>yt($t,"$currentSession",P),[P,Q]=ht(),l=d(),m=d(),M=d(),O=d(),u=d(),o=d(),b=d();function U(e){const r=Math.floor(e/1e3),v=Math.floor(r/60),x=r%60;return`${v} minutes ${x} seconds`}vt(()=>{t(l)||J("/")});async function W(){try{await navigator.clipboard.writeText(t(m));const e=document.querySelector(".copy-button");if(e){const r=e.textContent;e.textContent="Copied!",setTimeout(()=>{e.textContent=r},2e3)}}catch(e){console.error("Failed to copy:",e)}}function X(){Ct(),J("/")}c(()=>V(),()=>{p(l,V())}),c(()=>t(l),()=>{p(m,t(l)?.binaryResult||"")}),c(()=>t(l),()=>{p(M,t(l)?.currentStep||0)}),c(()=>t(l),()=>{p(O,t(l)?U(Date.now()-t(l).startTime):"")}),c(()=>t(l),()=>{p(u,t(l)?t(l).cities.filter(e=>e.status==="1"):[])}),c(()=>t(l),()=>{p(o,t(l)?t(l).cities.filter(e=>e.status==="0"):[])}),c(()=>t(l),()=>{p(b,t(l)?t(l).cities.filter(e=>e.status==="?").length:0)}),dt(),gt();var _=Rt();_t("bxfdlt",e=>{ft.title="Results - City Voting System"});var g=i(a(_),2),A=i(a(g),2),h=a(A),Z=a(h,!0);s(h);var B=i(h,2),Y=a(B),tt=i(Y,2);s(B),s(A),ut(2),s(g);var q=i(g,2),y=a(q),D=i(a(y),2),$=a(D),F=i(a($),2),st=a(F,!0);s(F),s($);var C=i($,2),N=i(a(C),2),et=a(N,!0);s(N),s(C);var S=i(C,2),z=i(a(S),2),at=a(z,!0);s(z),s(S);var E=i(S,2),G=i(a(E),2),lt=a(G,!0);s(G),s(E),s(D),s(y);var H=i(y,2),k=a(H),it=a(k);s(k);var R=i(k,2);xt(R,5,()=>t(u),mt,(e,r)=>{var v=St(),x=i(a(v),2),ot=a(x);s(x),s(v),T(()=>n(ot,`${t(r),f(()=>t(r).name)??""}, ${t(r),f(()=>t(r).country)??""}`)),j(e,v)}),s(R);var rt=i(R,2);{var nt=e=>{var r=kt(),v=a(r);s(r),T(()=>n(v,`${t(o),f(()=>t(o).length)??""} cities were not selected${t(b)>0?`, ${t(b)} undecided`:""}`)),j(e,r)};bt(rt,e=>{t(o),t(b),f(()=>t(o).length>0||t(b)>0)&&e(nt)})}s(H),s(q),s(_),T(()=>{n(Z,t(m)),n(st,t(M)),n(et,t(O)),n(at,(t(u),f(()=>t(u).length))),n(lt,(t(o),f(()=>t(o).length))),n(it,`Your Selected Cities (${t(u),f(()=>t(u).length)??""})`)}),I("click",Y,W),I("click",tt,X),j(K,_),pt(),Q()}export{Ft as component};
